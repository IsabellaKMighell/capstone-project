{"version":3,"sources":["components/Navbar.js","components/CreateNewUser.js","components/Login.js","components/Auth.js","components/Business.js","components/BusinessList.js","components/Home.js","components/Timer.js","components/IndividualBusiness.js","components/App.js","reportWebVitals.js","index.js"],"names":["NavBar","handleLogout","user","to","Button","onClick","CreateNewUser","setUser","useState","username","password","formData","setFormData","handleChange","e","name","target","value","loginForm","Form","onSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","r","json","data","Field","type","placeholder","onChange","Login","errors","setErrors","ok","err","console","log","Auth","ADMIN","path","exact","Business","id","address","logo","handleIndividualBusiness","className","src","alt","BusinessList","businesses","businessList","map","business","latitude","longitude","image","Home","Timer","business_line","timeInterval","lineItem","time","updateQ","setInterval","index","clearInterval","handleDestroyPositionOne","IndividualBusiness","lat","long","waittime","setLineItem","φ1","Math","PI","φ2","Δφ","Δλ","a","sin","cos","c","atan2","sqrt","distance","Number","toFixed","business_id","App","reRender","setReRender","setBusinesses","setBusiness","setLat","setLong","history","useHistory","useEffect","response","catch","error","message","navigator","geolocation","getCurrentPosition","position","coords","push","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.df11f702.chunk.js","sourcesContent":["import {Link} from \"react-router-dom\"\nimport { Button} from 'semantic-ui-react'\n\nfunction NavBar({handleLogout, user}) {\n\t\n\n\treturn (\n\t\t<>\n\t\t\t<div>\n\t\t\t\t\n\t\t\t\t\t\t<Link to=\"/consumers\">\n\t\t\t\t\t\t\t<Button>Home</Button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t<Link to=\"/\" onClick={handleLogout}>\n\t\t\t\t\t\t\t<Button>Logout</Button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\n\t\t\t\t\t\t<Link to=\"/login\">\n\t\t\t\t\t\t<Button>Login</Button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default NavBar;","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Form } from 'semantic-ui-react'\n\nfunction CreateNewUser({ setUser}) {\n\tconst [formData, setFormData] = useState({\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t\tuser: \"\",\n\t});\n\t\n\t\n\n   \n\n\tfunction handleChange(e) {\n\t\tlet name = e.target.name;\n        let value = e.target.value;\n\t\tsetFormData({ ...formData, [name]: value });\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tfetch(`/${formData.user}_signup`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername: formData.username,\n\t\t\t\tpassword: formData.password,\n\t\t\t}),\n\t\t})\n\t\t\t.then((r) => r.json())\n\t\t\t.then((data) => {\n\t\t\t\tsetUser(data);\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t});\n\t\t// .catch((err) => setUser(null));\n\n\t\tsetFormData({\n\t\t\tusername: \"\",\n\t\t\tpassword: \"\",\n            user:\"consumer\"\n\t\t});\n\t}\n\n\tconst loginForm = (\n\t\t<>\n\t\t\t<h1>Create an account</h1>\n\t\t\t<Form onSubmit={handleSubmit}>\n    \t\t\t<Form.Field>\n      \t\t\t\t<label>Username</label>\n     \t\t \t\t<input type='text'\n\t\t\t\t\t\tplaceholder='Username'\n\t\t\t\t\t\tname='username'\n\t\t\t\t\t\tvalue={formData.username}\n\t\t\t\t\t\tonChange={handleChange} />\n    \t\t\t</Form.Field>\n    \t\t\t<Form.Field>\n      \t\t\t\t<label>Password</label>\n      \t\t\t\t<input type='text'\n\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\tname='password'\n\t\t\t\t\t\tvalue={formData.password}\n\t\t\t\t\t\tonChange={handleChange}/>\n    \t\t\t</Form.Field>\n   \n    \t\t\t<Button type='submit'>Submit</Button>\n  \t\t\t</Form>\n\t\t\t\n        </>\n\t\t\t\t\n\t);\n\treturn (\n\t\t<div>\n\t\t\t<div>{loginForm}</div>\n\t\t\t<div>\n\t\t\t\tAlready have an account?\n\t\t\t<Link to={`/login`}><button>Login</button></Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nexport default CreateNewUser;","import React, { useState } from \"react\";\nimport {  Link } from \"react-router-dom\";\nimport { Button, Form } from 'semantic-ui-react'\n\nfunction Login({ setUser}) {\n\tconst [formData, setFormData] = useState({\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t\tuser: \"consumer\",\n\t});\n\t\n\t\n\tconst [errors, setErrors] = useState(null);\n\n\tfunction handleChange(e) {\n\t\tlet name = e.target.name;\n        let value = e.target.value;\n\t\tsetFormData({ ...formData, [name]: value });\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tfetch(`/login`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tuser: formData.user,\n\t\t\t\tusername: formData.username,\n\t\t\t\tpassword: formData.password,\n\t\t\t}),\n\t\t})\n\t\t\t.then((r) => {\n\t\t\t\tif (r.ok) {\n\t\t\t\t\tr.json().then((data) => {\n\t\t\t\t\t\tsetUser(data);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tr.json().then((err) => {\n\t\t\t\t\t\tsetErrors(err.errors);\n\t\t\t\t\t\tconsole.log(errors);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\t\n\t\t\n\t\t\n\t\tsetFormData({ username: \"\", password: \"\", user: \"\" });\n\t}\n\n\tconst loginForm = (\n\t\t<>\n\t\t\t<h1>Login</h1>\n\t\t\t\n  \t\t\t\t<Form onSubmit={handleSubmit}>\n    \t\t\t<Form.Field>\n      \t\t\t\t<label>Username</label>\n     \t\t \t\t<input type='text'\n\t\t\t\t\t\tplaceholder='Username'\n\t\t\t\t\t\tname='username'\n\t\t\t\t\t\tvalue={formData.username}\n\t\t\t\t\t\tonChange={handleChange} />\n    \t\t\t</Form.Field>\n    \t\t\t<Form.Field>\n      \t\t\t\t<label>Password</label>\n      \t\t\t\t<input type='text'\n\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\tname='password'\n\t\t\t\t\t\tvalue={formData.password}\n\t\t\t\t\t\tonChange={handleChange}/>\n    \t\t\t</Form.Field>\n   \n    \t\t\t<Button type='submit'>Submit</Button>\n  \t\t\t</Form>\n\t\t</>\n\t\t)\n\n\t\t\n\treturn (\n\t\t<div>\n\t\t<div>{loginForm}</div>\n\t\t<Link to={`/new_user`}><Button>Create an Account</Button></Link>\n\t\t<></>\n\t\t</div>\n\t);\n}\n\nexport default Login;","import CreateNewUser from \"./CreateNewUser\";\nimport Login from \"./Login\";\nimport { BrowserRouter as Route , Switch} from \"react-router-dom\";\n\nfunction Auth({ setUser, user, ADMIN }) {\n\t// if (!user) return <Login setUser={setUser} />;\n\t// if (user) return <Parent user={user} />;\n\n\treturn (\n\t\t<Switch>\n\t\t<Route path=\"/login\">\n\t\t\t<Login setUser={setUser} ADMIN={ADMIN} user={user}/>\n\t\t</Route>\n\t\t<Route exact path=\"/new_user\">\n\t\t\t<CreateNewUser setUser={setUser} ADMIN={ADMIN} user={user}/>\n\t\t</Route>\n\t\t</Switch>\n\t);\n}\nexport default Auth;","import {Link} from \"react-router-dom\"\nimport { Button} from 'semantic-ui-react'\n\nfunction Business({id, name, address, logo, handleIndividualBusiness}) {\n    \n      \n\n    //below is the list card, each list will be created with the table below. \n    //need to add a border to table\n    return (\n        <div className=\"businessesDiv\">\n            <img src={logo} alt=\"Business Logo\" className=\"logo\"/>\n            <Link to=\"/business_page\"><Button onClick={() =>handleIndividualBusiness(id)}>{name}</Button> </Link>\n            <h4>{address}</h4>\n            \n        </div>\n    );\n}\n\nexport default Business;\n","import Business from './Business';\n\n\n\nfunction BusinessList({businesses, handleIndividualBusiness}) {\n\n    let businessList= businesses.map((business)=>{\n        return(\n            <Business \n            key={business.id}\n            id={business.id}\n            name={business.name}\n            latitude={business.latitude}\n            longitude={business.longitude}\n            address={business.address}\n            logo={business.image}\n            handleIndividualBusiness={handleIndividualBusiness}\n            />\n        )\n    })\n\n    return (\n        <div className=\"listsDiv\">\n            {businessList}\n        </div>\n    );\n}\n\nexport default BusinessList;","import React from \"react\";\nimport BusinessList from \"./BusinessList\";\n\nfunction Home({businesses, handleIndividualBusiness}) {\n\t\n\n\treturn (\n\t\t<div>\n            <h2>Welcome to line succession</h2>\n            \n\t\t\t<BusinessList businesses={businesses} handleIndividualBusiness={handleIndividualBusiness}/>\n\t\t\n\t\t\t\t\n\t\t\t\n\t\t</div>\n\t);\n}\n\nexport default Home;","\n\nfunction Timer({ business_line, lineItem}){ \n    let timeInterval = lineItem.time * 1000\n    \n    \n\n    let updateQ = setInterval(handleDestroyPositionOne(), timeInterval)\n    \n    function handleDestroyPositionOne(){\n        let index = 0;\n        if(business_line !== [index]){\n            let id = business_line[index].id\n            fetch(`/lines/${id}`,{\n                method: \"DELETE\"\n            })\n            index+=1\n            \n        }else{\n            clearInterval(updateQ)\n        }\n\n    }\n    return(\n        <>\n        </>\n    )\n}\nexport default Timer;","import React, { useState } from \"react\";\nimport Timer from \"./Timer\"\nimport { Button} from 'semantic-ui-react'\n//import TimeRemaining from \"./TimeRemaining\";\n\nfunction IndividualBusiness({business, lat, long}){\n    const{id, name, longitude, latitude, image, address, waittime, business_line} = business\n    const [errors, setErrors] = useState(null);\n    const [lineItem, setLineItem]=useState(null);\n\n    const R = 6371e3; // metres\n    const φ1 = lat * Math.PI/180; // φ, λ in radians\n    const φ2 = latitude * Math.PI/180;\n    const Δφ = (latitude-lat) * Math.PI/180;\n    const Δλ = (longitude-long) * Math.PI/180;\n\n    const a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n          Math.cos(φ1) * Math.cos(φ2) *\n          Math.sin(Δλ/2) * Math.sin(Δλ/2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n    const d = R * c// in metres\n    const distance = Number(d.toFixed(4))\n   \n    console.log(business_line)\n    \n    \n    console.log(`Distance from Business: ${distance}`)\n\n    function addToLine(){\n        fetch(\"/lines\", {\n            method: \"POST\",\n            headers: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n                business_id: id,\n                distance: distance\n            }),\n\t\t}).then((r) => {\n            if (r.ok) {\n                r.json().then((data) => {\n                    console.log(data);\n                    setLineItem(data)\n                });\n            } else {\n                r.json().then((err) => {\n                    setErrors(err.errors);\n                    console.log(errors);\n                });\n            }\n        });\n    }\n\n    return(\n        <div>\n            <img src={image} alt=\"Business Logo\" className=\"logo\"/>\n            <h3>{name}</h3> \n            <h4>{address}</h4>\n            <h4>The current approximated wait time for {name} is {waittime/60} minutes</h4>\n            {lineItem ? \n                <>\n                    <div>You're in line!</div> \n                    <Timer business_line={business_line} lineItem={lineItem}/>\n                    \n                </>:\n                <Button onClick={addToLine}>Get in Line</Button> }\n            \n        </div>\n    )\n}\nexport default IndividualBusiness;","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport NavBar from \"./Navbar\";\nimport Auth from \"./Auth\";\nimport {\n\tuseHistory, Route\n} from \"react-router-dom\";\n\nimport Home from \"./Home\"\nimport IndividualBusiness from \"./IndividualBusiness\";\n\nfunction App() {\n\tconst [user, setUser] = useState(null);\n\tconst [reRender, setReRender] = useState(false);\n\tconst [businesses, setBusinesses] = useState([])\n\tconst[business, setBusiness]=useState([]);\n\tconst [lat, setLat] = useState(null)\n\tconst [long, setLong] = useState(null)\n\n\n\tconst history = useHistory();\n\n\t\n\tuseEffect(() => {\n\t\tgetBusinesses();\n\t\tgetCurrentUser();\n\t}, [reRender]);\n\tfunction getCurrentUser(){\n\t\tfetch(\"/me\")\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tsetUser(data);\n\t\t\t\tconsole.log(data);\n\t\t\t\tconsole.log(\"RERENDER\");\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error.message);\n\t\t\t});}\n\t\n\tfunction getBusinesses(){\n\t\tfetch(\"/businesses\")\n\t\t\t.then((response) => response.json())\n\t\t\t.then((businesses) => { setBusinesses(businesses)\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error.message);\n\t\t\t});\n\t}\n\t\n\n\t\n\tnavigator.geolocation.getCurrentPosition(function(position) {\n\t\tsetLat( position.coords.latitude)\n\t\tsetLong(position.coords.longitude)\n\t\t  });\n\n\tfunction handleIndividualBusiness(id){\n\t\tconsole.log(id)\n\t\tfetch(`/businesses/${id}`)\n\t\t.then(r=>r.json())\n\t\t.then(data => {\n\t\t\tconsole.log(data)\n\t\t\tsetBusiness(data)\n\t\t\tsetReRender(!reRender)\n\t\t\t\t\n\t\t})\n\t\n\t}\n\n\t\n\tfunction handleLogout() {\n\t\tfetch(\"/logout\", {\n\t\t\tmethod: \"DELETE\",\n\t\t}).then(() => {\n\t\t\tsetUser(null);\n\t\t\tconsole.log(`${user.username} logged out!`);\n\n\t\t\tsetReRender(!reRender);\n\t\t\thistory.push(\"/login\");\n\t\t});\n\t}\n\t\n\n\t\n\treturn (\n\t\t<div className=\"App\">\n\t\t<h1>Succession</h1>\n\t\t<NavBar handleLogout={handleLogout} user={user} />\n\t\t<Auth setUser={setUser} user={user} />\n\t\t\t<Route path=\"/consumers\">\n\t\t\t\t<Home businesses={businesses} user={user} handleIndividualBusiness={handleIndividualBusiness}/>\n\t\t\t</Route>\n\t\t\t<Route path=\"/business_page\">\n\t\t\t\t\t<IndividualBusiness business={business} lat={lat} long={long} user={user}/>\n\t\t\t</Route>\n\t\t</div>\n\t);\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"semantic-ui-css/semantic.min.css\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}